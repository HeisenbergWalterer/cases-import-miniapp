<view class="container">
  <!-- ç—…ä¾‹åˆ—è¡¨ç»„ä»¶ -->
  <view class="case-list-component">
    <view class="case-list-card">
      <!-- å¤´éƒ¨æ ‡é¢˜ -->
  <view class="header">
    <view class="title">æˆ‘çš„ç—…ä¾‹</view>
    <view class="subtitle">å…± {{cases.length}} ä¸ªç—…ä¾‹</view>
  </view>

  <!-- ç—…ä¾‹åˆ—è¡¨ -->
  <view class="case-list" wx:if="{{cases.length > 0}}">
    <view class="case-item" wx:for="{{cases}}" wx:key="id" bindtap="viewCaseDetail" data-id="{{item.id}}">
      <view class="case-header">
        <view class="case-name">{{item.patientName}}</view>
        <view class="case-time">{{item.createTime}}</view>
      </view>
      <view class="case-info">
        <view class="info-item">
          <text class="label">æ€§åˆ«ï¼š</text>
          <text class="value">{{item.gender}}</text>
        </view>
        <view class="info-item">
          <text class="label">å¹´é¾„ï¼š</text>
          <text class="value">{{item.age}}å²</text>
        </view>
        <view class="info-item">
          <text class="label">ä½é™¢å·ï¼š</text>
          <text class="value">{{item.hospitalId}}</text>
        </view>
      </view>
      <view class="case-summary">
        <view class="summary-item" wx:if="{{item.comorbidities.length > 0}}">
          <text class="summary-label">åˆå¹¶ç–¾ç—…ï¼š</text>
          <text class="summary-value">{{item.comorbidities.join('ã€')}}</text>
        </view>
        <view class="summary-item" wx:if="{{item.ultrasoundConclusion}}">
          <text class="summary-label">Bè¶…ç»“è®ºï¼š</text>
          <text class="summary-value">{{item.ultrasoundConclusion}}</text>
        </view>
      </view>
      <view class="case-actions">
        <button class="action-btn" catchtap="editCase" data-id="{{item.id}}">ç¼–è¾‘</button>
        <button class="action-btn delete" catchtap="deleteCase" data-id="{{item.id}}">åˆ é™¤</button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <view class="empty-icon">ğŸ“‹</view>
    <view class="empty-title">æš‚æ— ç—…ä¾‹</view>
    <view class="empty-desc">æ‚¨è¿˜æ²¡æœ‰å¯¼å…¥ä»»ä½•ç—…ä¾‹ä¿¡æ¯</view>
    <button class="empty-btn" bindtap="navigateToImport">ç«‹å³å¯¼å…¥</button>
      </view>
    </view>
  </view>

  <!-- æ‚¬æµ®æ·»åŠ æŒ‰é’® -->
  <view class="fab" bindtap="navigateToImport" wx:if="{{cases.length > 0}}">
    <text class="fab-icon">+</text>
  </view>
</view> 