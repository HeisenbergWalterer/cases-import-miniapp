# 测试用例文档

## 功能测试用例

### 1. 用户登录和个人信息完善测试
- **测试目标**: 验证微信登录和个人信息完善功能
- **测试步骤**:
  1. 进入个人中心页面
  2. 点击"微信登录"按钮
  3. 授权获取用户信息
  4. 填写姓名、性别、年龄
  5. 保存个人信息
- **预期结果**: 成功获取用户信息并正确保存

### 2. 病例导入测试（新流程）
- **测试目标**: 验证优化后的病例导入功能
- **前置条件**: 用户已完成个人信息完善
- **测试步骤**:
  1. 从首页进入病例导入
  2. 验证系统自动使用个人信息（无需输入姓名、性别、年龄）
  3. 逐步填写5个步骤的表单：
     - 症状信息（症状出现时间）
     - 合并疾病（多选）
     - 既往病史（多选）
     - 影像学报告（B超详细报告和结论）
     - 病理报告（病理诊断和免疫组化）
  4. 验证每个步骤的必填项检查
  5. 提交表单
- **预期结果**: 成功保存病例数据并跳转到病例列表，基本信息自动从用户个人信息获取

### 3. 个人信息未完善时的处理测试
- **测试目标**: 验证用户未完善个人信息时的引导机制
- **测试步骤**:
  1. 清除用户个人信息
  2. 尝试进入病例导入
  3. 尝试进入AI分析
- **预期结果**: 系统提示用户先去个人中心完善个人信息，并提供跳转按钮

### 4. 病例列表测试
- **测试目标**: 验证病例管理功能
- **测试步骤**:
  1. 查看病例列表
  2. 点击病例查看详情
  3. 删除病例
  4. 验证空状态显示
- **预期结果**: 正确显示病例信息，支持查看和删除操作

### 5. AI聊天测试
- **测试目标**: 验证AI分析功能
- **测试步骤**:
  1. 从首页进入AI分析（无病例时）
  2. 导入病例后再次进入AI分析
  3. 选择病例进入聊天界面
  4. 发送消息测试AI回复
- **预期结果**: 正确显示病例选择界面，AI能够根据关键词回复

### 6. 数据持久化测试
- **测试目标**: 验证本地存储功能
- **测试步骤**:
  1. 完善个人信息
  2. 导入多个病例
  3. 关闭小程序重新打开
  4. 检查数据是否保留
- **预期结果**: 数据正确保存和恢复

## 边界情况测试

### 1. 个人信息不完整的情况
- **测试场景**: 用户只填写了部分个人信息
- **测试步骤**:
  1. 只填写姓名，不填写性别和年龄
  2. 尝试进入病例导入
- **预期结果**: 系统提示需要完善所有必要信息

### 2. 空数据处理
- **测试场景**: 没有病例数据时的界面显示
- **预期结果**: 显示友好的空状态提示

### 3. 网络异常处理
- **测试场景**: 模拟网络异常情况
- **预期结果**: 显示适当的错误提示

### 4. 数据格式异常
- **测试场景**: 存储的数据格式不正确
- **预期结果**: 程序能够优雅处理并显示错误信息

### 5. 用户操作异常
- **测试场景**: 快速点击、重复操作等
- **预期结果**: 程序稳定运行，不出现崩溃

## 性能测试

### 1. 页面加载速度
- **测试目标**: 验证页面加载性能
- **测试方法**: 测量各页面加载时间
- **预期结果**: 页面加载时间 < 2秒

### 2. 内存使用
- **测试目标**: 验证内存使用情况
- **测试方法**: 监控小程序内存占用
- **预期结果**: 内存使用稳定，无明显泄漏

## 兼容性测试

### 1. 设备兼容性
- **测试设备**: 不同尺寸的手机
- **测试内容**: 界面适配和功能正常
- **预期结果**: 在各种设备上都能正常显示和使用

### 2. 微信版本兼容性
- **测试版本**: 不同版本的微信客户端
- **测试内容**: 功能兼容性
- **预期结果**: 在主流微信版本上都能正常运行

## 安全测试

### 1. 数据安全
- **测试目标**: 验证本地数据安全性
- **测试内容**: 检查敏感信息是否加密存储
- **预期结果**: 用户隐私信息得到保护

### 2. 权限控制
- **测试目标**: 验证权限申请合理性
- **测试内容**: 检查权限申请是否必要
- **预期结果**: 只申请必要的权限

## 用户体验测试

### 1. 流程优化验证
- **测试目标**: 验证新的病例导入流程是否更便捷
- **测试内容**: 对比新旧流程的用户操作步骤
- **预期结果**: 新流程减少了重复输入，提升了用户体验

### 2. 引导机制测试
- **测试目标**: 验证用户引导是否清晰
- **测试内容**: 检查各种提示信息的准确性和友好性
- **预期结果**: 用户能够清楚了解下一步操作

## 测试环境准备

### 1. 开发环境
- 微信开发者工具
- 测试用微信账号
- 模拟器或真机设备

### 2. 测试数据
- 准备测试用的病例数据
- 模拟各种异常情况的数据
- 准备不同完整度的用户个人信息

### 3. 测试工具
- 微信开发者工具的控制台
- 真机调试功能

## 测试报告模板

### 测试结果记录
- **测试日期**: 
- **测试版本**: 
- **测试环境**: 
- **测试结果**: 通过/失败
- **问题描述**: 
- **修复状态**: 

### 问题跟踪
- **问题ID**: 
- **问题描述**: 
- **严重程度**: 高/中/低
- **修复优先级**: 
- **修复状态**: 待修复/修复中/已修复

## 重要变更说明

### 病例导入流程变更
- **变更前**: 6个步骤，包含基本信息输入
- **变更后**: 5个步骤，基本信息自动从用户个人信息获取
- **影响范围**: 病例导入页面、首页功能检查、用户引导机制
- **测试重点**: 确保个人信息集成正确，用户引导清晰 